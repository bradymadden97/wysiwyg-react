{"version":3,"sources":["event-handler/suggestions.js","event-handler/modals.js","event-handler/focus.js","event-handler/keyDown.js","utils/BlockStyle.js","utils/common.js","utils/toolbar.js","utils/handlePaste.js","components/Option/index.js","components/Dropdown/index.js","components/DropdownOption/index.js","controls/Inline/Component/index.js","controls/Inline/index.js","controls/BlockType/Component/index.js","controls/BlockType/index.js","controls/FontSize/Component/index.js","controls/FontSize/index.js","controls/TextAlign/Component/index.js","controls/TextAlign/index.js","controls/History/Component/index.js","controls/History/index.js","controls/Insertion/Component/index.js","controls/Insertion/index.js","controls/Submission/Component/index.js","controls/index.js","controls/Submission/index.js","renderer/Embedded/index.js","renderer/Image/index.js","renderer/index.js","config/defaultToolbar.js","Editor/index.js","registerServiceWorker.js","index.js","icons/bold.svg","icons/italic.svg","icons/underline.svg","icons/monospace.svg","icons/font-size.svg","icons/align-left.svg","icons/align-center.svg","icons/align-right.svg","icons/undo.svg","icons/redo.svg"],"names":["suggestionDropdownOpen","ModalHandler","callBacks","suggestionCallback","undefined","editorFlag","suggestionFlag","closeAllModals","event","_this","forEach","callBack","init","wrapperId","wrapper","document","getElementById","addEventListener","key","onEditorClick","closeModals","registerCallBack","push","deregisterCallBack","filter","cb","setSuggestionCallback","removeSuggestionCallback","onSuggestionClick","FocusHandler","inputFocused","editorMouseDown","onEditorMouseDown","editorFocused","onInputMouseDown","isEditorBlur","target","tagName","isEditorFocused","isToolbarFocused","isInputFocused","keyDown","onKeyDown","suggestions","open","close","isOpen","blockStyleFn","block","blockAlignment","getData","get","concat","obj","callback","hasOwnProperty","call","hasProperty","property","result","stopPropagation","getFirstIcon","config","options","icon","mergeRecursive","obj1","obj2","mergedValue","value","Object","prototype","toString","handlePastedText","text","html","editorState","onChange","selectedBlock","getSelectedBlock","type","contentState","Modifier","replaceText","getCurrentContent","getSelection","getCurrentInlineStyle","EditorState","Option","onClick","_this$props","props","disabled","_classNames","_this$props2","this","children","className","activeClassName","active","title","react_default","a","createElement","classNames","defineProperty","aria-selected","Component","Dropdown","state","highlighted","toggleExpansion","setHighlighted","setState","doExpand","doCollapse","expanded","_this2","optionWrapperClassName","ariaLabel","onExpandEvent","slice","length","aria-expanded","aria-label","href","rdw-dropdown-carettoclose","rdw-dropdown-carettoopen","React","Children","map","option","index","cloneElement","onSelect","DropdownOption","resetHighlighted","_this$props3","disabledClassName","highlightedClassName","onMouseEnter","onMouseLeave","Inline","currentState","style","Option_Option","CODE","alt","src","dropdownClassName","Dropdown_Dropdown","DropdownOption_DropdownOption","inDropdown","renderInDropDown","renderInFlatList","currentStyles","signalExpanded","expandCollapse","toggleInlineStyle","newStyle","toUpperCase","newState","RichUtils","changeKeys","st","toLowerCase","modalHandler","getSelectionInlineStyle","properties","_this$state","InlineComponent","component","LayoutComponent","classCallCheck","possibleConstructorReturn","getPrototypeOf","getBlockTypes","label","displayName","blockTypes","blocks","blockType","_this$props2$config","currentBlockData","blk","currentLabel","_ref","includes","renderInDropdown","renderFlat","BlockType","currentBlockType","blocksTypes","toggleBlockType","blockTypeValue","find","bt","getSelectedBlocksType","BlockTypeComponent","defaultFontSize","editorElm","getElementsByClassName","window","getComputedStyle","getPropertyValue","substring","_this$props$config","currentFontSize","fontSize","Number","indexOf","size","FontSize","toggleFontSize","toggleCustomInlineStyle","getSelectionCustomInlineStyle","FONTSIZE","FontSizeComponent","TextAlign","left","center","right","justify","textAlignment","currentTextAlignment","addBlockAlignmentData","setBlockData","text-align","getSelectedBlocksMetadata","TextAlignmentComponent","History","_this$props$currentSt","undoDisabled","redoDisabled","undo","redo","_this$props2$currentS","action","getUndoStack","getRedoStack","HistoryComponent","Insertion","insertCharacter","character","InsertionComponent","Submission","Controls","inline","textAlign","history","insertion","submission","convertAndSubmit","onExport","rawContentState","convertToRaw","markup","draftToHtml","SubmissionComponent","Embed","_entity$getData","getEntity","getEntityAt","height","width","frameBorder","allowFullScreen","getImageComponent","_Component","Image","_getPrototypeOf2","_len","arguments","args","Array","_key","apply","hovered","setEntityAlignmentLeft","setEntityAlignment","setEntityAlignmentRight","setEntityAlignmentCenter","alignment","entityKey","mergeEntityData","getEditorState","dummy","toggleHovered","inherits","createClass","rdw-image-alignment-options-popup-right","isReadOnly","isImageAlignmentEnabled","rdw-image-left","rdw-image-right","rdw-image-center","renderAlignmentOptions","getBlockRenderFunc","customBlockRenderer","renderedComponent","getType","entity","editable","Embedded","defaultToolbar","bold","italic","underline","monospace","emdash","endash","lapostrophe","rapostrophe","lquotation","rquotation","export","WysiwygEditor","onEditorBlur","onEditorFocus","onFocus","editFocused","focusHandler","onTab","changeDepth","shiftKey","preventDefault","onUpDownArrow","SuggestionHandler","onToolbarFocus","onWrapperBlur","onBlur","readOnly","onEditorStateChange","isCollapsed","afterChange","setWrapperReference","ref","setEditorReference","editorRef","editor","getCompositeDecorator","decorators","toConsumableArray","customDecorators","CompositeDecorator","getWrapperRef","getSuggestions","mention","setTimeout","onContentStateChange","toolbar","image","alignmentEnabled","createEditorState","compositeDecorator","set","decorator","defaultEditorState","convertFromRaw","createWithContent","moveSelectionToEnd","defaultContentState","initialContentState","createEmpty","filterEditorProps","keys","filteredKeys","filteredObject","changeEditorState","newContentState","focusEditor","focus","handleKeyCommand","command","handleReturn","handleNewLine","stripPastedStyles","Math","floor","random","blockRendererFn","customBlockRenderFunc","editorProps","customStyleMap","getCustomStyleMap","extractInlineStyle","newEditorState","_this$state2","toolbarCustomButtons","toolbarOnFocus","toolbarClassName","toolbarHidden","editorClassName","wrapperClassName","toolbarStyle","editorStyle","wrapperStyle","uploadCallback","controlProps","toolbarShow","id","objectSpread","visibility","onMouseDown","aria-hidden","opt","Control","ControlBlock","assign","button","KeyDownHandler","Draft","onUpArrow","onDownArrow","blockRenderMap","defaultProps","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","catch","error","_onExport","alert","elem","ReactDOM","render","Editor_WysiwygEditor","URL","process","origin","fetch","response","status","headers","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.5b6a3f4e.chunk.js","sourcesContent":["let suggestionDropdownOpen;\r\n\r\nexport default {\r\n  open: () => {\r\n    suggestionDropdownOpen = true;\r\n  },\r\n\r\n  close: () => {\r\n    suggestionDropdownOpen = false;\r\n  },\r\n\r\n  isOpen: () => suggestionDropdownOpen,\r\n};\r\n","export default class ModalHandler {\r\n  callBacks = [];\r\n  suggestionCallback = undefined;\r\n  editorFlag = false;\r\n  suggestionFlag = false;\r\n\r\n  closeAllModals = (event: Object) => {\r\n    this.callBacks.forEach((callBack) => {\r\n      callBack(event);\r\n    });\r\n  };\r\n\r\n  init = (wrapperId: string) => {\r\n    const wrapper = document.getElementById(wrapperId); // eslint-disable-line no-undef\r\n    if (wrapper) {\r\n      wrapper.addEventListener('click', () => {\r\n        this.editorFlag = true;\r\n      });\r\n    }\r\n    if (document) {\r\n      document.addEventListener('click', () => { // eslint-disable-line no-undef\r\n        if (!this.editorFlag) {\r\n          this.closeAllModals();\r\n          if (this.suggestionCallback) {\r\n            this.suggestionCallback();\r\n          }\r\n        } else {\r\n          this.editorFlag = false;\r\n        }\r\n      });\r\n      document.addEventListener('keydown', (event) => { // eslint-disable-line no-undef\r\n        if (event.key === 'Escape') {\r\n          this.closeAllModals();\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  onEditorClick = () => {\r\n    this.closeModals();\r\n    if (!this.suggestionFlag && this.suggestionCallback) {\r\n      this.suggestionCallback();\r\n    } else {\r\n      this.suggestionFlag = false;\r\n    }\r\n  }\r\n\r\n  closeModals = (event: Object): void => {\r\n    this.closeAllModals(event);\r\n  };\r\n\r\n  registerCallBack = (callBack): void => {\r\n    this.callBacks.push(callBack);\r\n  };\r\n\r\n  deregisterCallBack = (callBack): void => {\r\n    this.callBacks = this.callBacks.filter(cb => cb !== callBack);\r\n  };\r\n\r\n  setSuggestionCallback = (callBack): void => {\r\n    this.suggestionCallback = callBack;\r\n  };\r\n\r\n  removeSuggestionCallback = (): void => {\r\n    this.suggestionCallback = undefined;\r\n  };\r\n\r\n  onSuggestionClick = ():void => {\r\n    this.suggestionFlag = true;\r\n  }\r\n}\r\n","export default class FocusHandler {\r\n  inputFocused = false;\r\n  editorMouseDown = false;\r\n\r\n  onEditorMouseDown = ():void => {\r\n    this.editorFocused = true;\r\n  }\r\n\r\n  onInputMouseDown = ():void => {\r\n    this.inputFocused = true;\r\n  }\r\n\r\n  isEditorBlur = (event):void => {\r\n    if ((event.target.tagName === 'INPUT' || event.target.tagName === 'LABEL')\r\n      && !this.editorFocused) {\r\n      this.inputFocused = false;\r\n      return true;\r\n    } else if ((event.target.tagName !== 'INPUT' || event.target.tagName !== 'LABEL')\r\n      && !this.inputFocused) {\r\n      this.editorFocused = false;\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  isEditorFocused = ():void => {\r\n    if (!this.inputFocused) {\r\n      return true;\r\n    }\r\n    this.inputFocused = false;\r\n    return false;\r\n  }\r\n\r\n  isToolbarFocused = ():void => {\r\n    if (!this.editorFocused) {\r\n      return true;\r\n    }\r\n    this.editorFocused = false;\r\n    return false;\r\n  }\r\n\r\n  isInputFocused = ():void => this.inputFocused;\r\n}\r\n","let callBacks = [];\r\n\r\nexport default {\r\n  onKeyDown: (event: Object) => {\r\n    callBacks.forEach((callBack) => {\r\n      callBack(event);\r\n    });\r\n  },\r\n\r\n  registerCallBack: (callBack): void => {\r\n    callBacks.push(callBack);\r\n  },\r\n\r\n  deregisterCallBack: (callBack): void => {\r\n    callBacks = callBacks.filter(cb => cb !== callBack);\r\n  },\r\n};\r\n","// The function will return block inline styles using block level meta-data\r\nexport default function blockStyleFn(block: Object): string {\r\n  const blockAlignment = block.getData() && block.getData().get('text-align');\r\n  if (blockAlignment) {\r\n    return `rdw-${blockAlignment}-aligned-block`;\r\n  }\r\n  return '';\r\n}\r\n","/* @flow */\r\n\r\n/**\r\n* Utility function to execute callback for eack key->value pair.\r\n*/\r\nexport function forEach(obj: Object, callback: Function) {\r\n  if (obj) {\r\n    for (const key in obj) { // eslint-disable-line no-restricted-syntax\r\n      if ({}.hasOwnProperty.call(obj, key)) {\r\n        callback(key, obj[key]);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport function hasProperty(obj: Object, property: string) {\r\n  let result = false;\r\n  if (obj) {\r\n    for (const key in obj) { // eslint-disable-line no-restricted-syntax\r\n      if ({}.hasOwnProperty.call(obj, key) && property === key) {\r\n        result = true;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\n/**\r\n* The function returns true if the string passed to it has no content.\r\n*/\r\nexport function isEmptyString(str: string): boolean {\r\n  return !str || !str.trim()\r\n}\r\n\r\n/**\r\n* The function will return true for simple javascript object,\r\n* which is not any other built in type like Array.\r\n*/\r\nexport function isMap(obj) {\r\n  return Object.prototype.toString.call(obj) === '[object Object]';\r\n}\r\n\r\n/**\r\n* The function will return filter out props fron and return new props.\r\n*/\r\nexport function filter(obj, keys) {\r\n  const filteredKeys = Object.keys(obj).filter(key => keys.indexOf(key) < 0);\r\n  const filteredObject = {};\r\n  if (filteredKeys && filteredKeys.length > 0) {\r\n    filteredKeys.forEach((key) => {\r\n      filteredObject[key] = obj[key];\r\n    });\r\n  }\r\n  return filteredObject;\r\n}\r\n\r\nexport function stopPropagation(event) {\r\n  event.stopPropagation();\r\n}\r\n","/* @flow */\r\n\r\nimport { forEach, isMap } from './common';\r\n\r\n/**\r\n* This function is used when displaying options in drop-down.\r\n* Icon for first available options is used in drop-down placeholder.\r\n*/\r\nexport const getFirstIcon = config => config[config.options[0]].icon;\r\n\r\n/**\r\n* The function is used to recursively merge toolbar options.\r\n* It assumes all the options are peresent in obj1.\r\n* It recursively merges objects but not arrays.\r\n*/\r\nexport const mergeRecursive = (obj1, obj2) => {\r\n  if (obj1 && obj2 === undefined) {\r\n    return obj1;\r\n  }\r\n  const mergedValue = {};\r\n  forEach(obj1, (key, value) => {\r\n    if (isMap(value)) {\r\n      mergedValue[key] = mergeRecursive(value, obj2[key]);\r\n    } else {\r\n      mergedValue[key] = obj2[key] !== undefined ? obj2[key] : value;\r\n    }\r\n  });\r\n  return mergedValue;\r\n};\r\n\r\n// todo: writing test cases for these methods and new methods added in common.js\r\n","import { getSelectedBlock } from \"draftjs-utils\";\r\nimport { Modifier, EditorState } from \"draft-js\";\r\n\r\nexport const handlePastedText = (text, html, editorState, onChange) => {\r\n  const selectedBlock = getSelectedBlock(editorState);\r\n  if (selectedBlock && selectedBlock.type === \"code\") {\r\n    const contentState = Modifier.replaceText(\r\n      editorState.getCurrentContent(),\r\n      editorState.getSelection(),\r\n      text,\r\n      editorState.getCurrentInlineStyle()\r\n    );\r\n    onChange(EditorState.push(editorState, contentState, \"insert-characters\"));\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n","/* @flow */\r\n\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport './styles.css';\r\n\r\nexport default class Option extends Component {\r\n  static propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n    children: PropTypes.any,\r\n    value: PropTypes.string,\r\n    className: PropTypes.string,\r\n    activeClassName: PropTypes.string,\r\n    active: PropTypes.bool,\r\n    disabled: PropTypes.bool,\r\n    title: PropTypes.string,\r\n  };\r\n\r\n  onClick: Function = () => {\r\n    const { disabled, onClick, value } = this.props;\r\n    if (!disabled) {\r\n      onClick(value);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { children, className, activeClassName, active, disabled, title } = this.props;\r\n    return (\r\n      <div\r\n        className={classNames(\r\n          'rdw-option-wrapper',\r\n          className,\r\n          {\r\n            [`rdw-option-active ${activeClassName}`]: active,\r\n            'rdw-option-disabled': disabled,\r\n          },\r\n        )}\r\n        onClick={this.onClick}\r\n        aria-selected={active}\r\n        title={title}\r\n      >\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","/* @flow */\r\n\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport './styles.css';\r\n\r\nimport { stopPropagation } from '../../utils/common';\r\n\r\nexport default class Dropdown extends Component {\r\n  static propTypes = {\r\n    children: PropTypes.any,\r\n    onChange: PropTypes.func,\r\n    className: PropTypes.string,\r\n    expanded: PropTypes.bool,\r\n    doExpand: PropTypes.func,\r\n    doCollapse: PropTypes.func,\r\n    onExpandEvent: PropTypes.func,\r\n    optionWrapperClassName: PropTypes.string,\r\n    ariaLabel: PropTypes.string,\r\n    title: PropTypes.string,\r\n  };\r\n\r\n  state: Object = {\r\n    highlighted: -1,\r\n  };\r\n\r\n  componentWillReceiveProps(props) {\r\n    if (this.props.expanded && !props.expanded) {\r\n      this.setState({\r\n        highlighted: -1,\r\n      });\r\n    }\r\n  }\r\n\r\n  onChange: Function = (value: any): void => {\r\n    const { onChange } = this.props;\r\n    if (onChange) {\r\n      onChange(value);\r\n    }\r\n    this.toggleExpansion();\r\n  };\r\n\r\n  setHighlighted: Function = (highlighted: number): void => {\r\n    this.setState({\r\n      highlighted,\r\n    });\r\n  };\r\n\r\n  toggleExpansion: Function = (): void => {\r\n    const { doExpand, doCollapse, expanded } = this.props;\r\n    if (expanded) {\r\n      doCollapse();\r\n    } else {\r\n      doExpand();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      expanded,\r\n      children,\r\n      className,\r\n      optionWrapperClassName,\r\n      ariaLabel,\r\n      onExpandEvent,\r\n      title,\r\n    } = this.props;\r\n    const { highlighted } = this.state;\r\n    const options = children.slice(1, children.length);\r\n    return (\r\n      <div\r\n        className={classNames('rdw-dropdown-wrapper', className)}\r\n        aria-expanded={expanded}\r\n        aria-label={ariaLabel || 'rdw-dropdown'}\r\n      >\r\n        <button\r\n          className=\"rdw-dropdown-selectedtext\"\r\n          onClick={onExpandEvent}\r\n          title={title}\r\n\t\t  href=\"#\"\r\n        >\r\n          {children[0]}\r\n          <div\r\n            className={classNames({\r\n              'rdw-dropdown-carettoclose': expanded,\r\n              'rdw-dropdown-carettoopen': !expanded,\r\n            })}\r\n          />\r\n        </button>\r\n        {expanded ?\r\n          <ul\r\n            className={classNames('rdw-dropdown-optionwrapper', optionWrapperClassName)}\r\n            onClick={stopPropagation}\r\n          >\r\n            {\r\n              React.Children.map(options, (option, index) => {\r\n                const temp = option && React.cloneElement(\r\n                  option, {\r\n                    onSelect: this.onChange,\r\n                    highlighted: highlighted === index,\r\n                    setHighlighted: this.setHighlighted,\r\n                    index,\r\n                  });\r\n                return temp;\r\n              })\r\n            }\r\n          </ul> : undefined}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","/* @flow */\r\n\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport './styles.css';\r\n\r\nexport default class DropdownOption extends Component {\r\n  static propTypes = {\r\n    children: PropTypes.any,\r\n    value: PropTypes.any,\r\n    onClick: PropTypes.func,\r\n    onSelect: PropTypes.func,\r\n    setHighlighted: PropTypes.func,\r\n    index: PropTypes.number,\r\n    disabled: PropTypes.bool,\r\n    active: PropTypes.bool,\r\n    highlighted: PropTypes.bool,\r\n    className: PropTypes.string,\r\n    activeClassName: PropTypes.string,\r\n    disabledClassName: PropTypes.string,\r\n    highlightedClassName: PropTypes.string,\r\n    title: PropTypes.string,\r\n  };\r\n\r\n  onClick: Function = (event): void => {\r\n    const { onSelect, onClick, value, disabled } = this.props;\r\n    if (!disabled) {\r\n      if (onSelect) {\r\n        onSelect(value);\r\n      }\r\n      if (onClick) {\r\n        event.stopPropagation();\r\n        onClick(value);\r\n      }\r\n    }\r\n  };\r\n\r\n  setHighlighted: Function = (): void => {\r\n    const { setHighlighted, index } = this.props;\r\n    setHighlighted(index);\r\n  };\r\n\r\n  resetHighlighted: Function = (): void => {\r\n    const { setHighlighted } = this.props;\r\n    setHighlighted(-1);\r\n  };\r\n\r\n  render(): Object {\r\n    const {\r\n      children,\r\n      active,\r\n      disabled,\r\n      highlighted,\r\n      className,\r\n      activeClassName,\r\n      disabledClassName,\r\n      highlightedClassName,\r\n      title,\r\n    } = this.props;\r\n    return (\r\n      <li\r\n        className={classNames(\r\n          'rdw-dropdownoption-default',\r\n          className,\r\n          { [`rdw-dropdownoption-active ${activeClassName}`]: active,\r\n            [`rdw-dropdownoption-highlighted ${highlightedClassName}`]: highlighted,\r\n            [`rdw-dropdownoption-disabled ${disabledClassName}`]: disabled,\r\n          })\r\n        }\r\n        onMouseEnter={this.setHighlighted}\r\n        onMouseLeave={this.resetHighlighted}\r\n        onClick={this.onClick}\r\n        title={title}\r\n      >\r\n        {children}\r\n      </li>\r\n    );\r\n  }\r\n}\r\n// todo: review classname use above.\r\n","/* @flow */\r\n\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\n\r\nimport { getFirstIcon } from '../../../utils/toolbar';\r\nimport Option from '../../../components/Option';\r\nimport Dropdown from '../../../components/Dropdown';\r\nimport DropdownOption from '../../../components/DropdownOption';\r\n\r\nimport './styles.css';\r\n\r\nexport default class Inline extends Component {\r\n  static propTypes = {\r\n    expanded: PropTypes.bool,\r\n    doExpand: PropTypes.func,\r\n    doCollapse: PropTypes.func,\r\n    onExpandEvent: PropTypes.func,\r\n    config: PropTypes.object,\r\n    onChange: PropTypes.func,\r\n    currentState: PropTypes.object,\r\n  };\r\n\r\n  renderInFlatList(): Object {\r\n    const { config, currentState, onChange } = this.props;\r\n    return (\r\n      <div className={classNames('rdw-inline-wrapper', config.className)} aria-label=\"rdw-inline-control\">\r\n        {\r\n          config.options\r\n            .map((style, index) =>\r\n              (<Option\r\n                key={index}\r\n                value={style}\r\n                onClick={onChange}\r\n                className={classNames(config[style].className)}\r\n                active={\r\n                  currentState[style] === true ||\r\n                  (style === 'MONOSPACE' && currentState.CODE)\r\n                }\r\n                title={config[style].title}\r\n              >\r\n                <img\r\n                  alt=\"\"\r\n                  src={config[style].icon}\r\n                />\r\n              </Option>),\r\n            )\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderInDropDown(): Object {\r\n    const {\r\n      config,\r\n      expanded,\r\n      doExpand,\r\n      onExpandEvent,\r\n      doCollapse,\r\n      currentState,\r\n      onChange,\r\n    } = this.props;\r\n    const { className, dropdownClassName, title } = config;\r\n    return (\r\n      <Dropdown\r\n        className={classNames('rdw-inline-dropdown', className)}\r\n        optionWrapperClassName={classNames(dropdownClassName)}\r\n        onChange={onChange}\r\n        expanded={expanded}\r\n        doExpand={doExpand}\r\n        doCollapse={doCollapse}\r\n        onExpandEvent={onExpandEvent}\r\n        aria-label=\"rdw-inline-control\"\r\n        title={title}\r\n      >\r\n        <img\r\n          src={getFirstIcon(config)}\r\n          alt=\"\"\r\n        />\r\n        {\r\n          config.options\r\n            .map((style, index) =>\r\n              (<DropdownOption\r\n                key={index}\r\n                value={style}\r\n                className={classNames('rdw-inline-dropdownoption', config[style].className)}\r\n                active={\r\n                  currentState[style] === true ||\r\n                  (style === 'MONOSPACE' && currentState.CODE)\r\n                }\r\n                title={config[style].title}\r\n              >\r\n                <img\r\n                  src={config[style].icon}\r\n                  alt=\"\"\r\n                />\r\n              </DropdownOption>))\r\n        }\r\n      </Dropdown>\r\n    );\r\n  }\r\n\r\n  render(): Object {\r\n    const { config: { inDropdown } } = this.props;\r\n    if (inDropdown) {\r\n      return this.renderInDropDown();\r\n    }\r\n    return this.renderInFlatList();\r\n  }\r\n}\r\n\r\n// todo: make subscript less low\r\n","/* @flow */\r\n\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { getSelectionInlineStyle } from 'draftjs-utils';\r\nimport { RichUtils } from 'draft-js';\r\nimport { forEach } from '../../utils/common';\r\n\r\nimport LayoutComponent from './Component';\r\n\r\nexport default class Inline extends Component {\r\n  static propTypes = {\r\n    onChange: PropTypes.func.isRequired,\r\n    editorState: PropTypes.object.isRequired,\r\n    modalHandler: PropTypes.object,\r\n    config: PropTypes.object,\r\n  };\r\n\r\n  state: Object = {\r\n    currentStyles: {},\r\n  };\r\n\r\n  componentWillMount(): void {\r\n    const { editorState, modalHandler } = this.props;\r\n    if (editorState) {\r\n      this.setState({\r\n        currentStyles: this.changeKeys(getSelectionInlineStyle(editorState)),\r\n      });\r\n    }\r\n    modalHandler.registerCallBack(this.expandCollapse);\r\n  }\r\n\r\n  componentWillReceiveProps(properties: Object): void {\r\n    if (properties.editorState &&\r\n      this.props.editorState !== properties.editorState) {\r\n      this.setState({\r\n        currentStyles: this.changeKeys(getSelectionInlineStyle(properties.editorState)),\r\n      });\r\n    }\r\n  }\r\n\r\n  componentWillUnmount(): void {\r\n    const { modalHandler } = this.props;\r\n    modalHandler.deregisterCallBack(this.expandCollapse);\r\n  }\r\n\r\n  onExpandEvent: Function = (): void => {\r\n    this.signalExpanded = !this.state.expanded;\r\n  };\r\n\r\n  expandCollapse: Function = (): void => {\r\n    this.setState({\r\n      expanded: this.signalExpanded,\r\n    });\r\n    this.signalExpanded = false;\r\n  }\r\n\r\n  toggleInlineStyle: Function = (style: string): void => {\r\n    const newStyle = style === 'monospace' ? 'CODE' : style.toUpperCase();\r\n    const { editorState, onChange } = this.props;\r\n    let newState = RichUtils.toggleInlineStyle(\r\n      editorState,\r\n      newStyle,\r\n    );\r\n    if (newState) {\r\n      onChange(newState);\r\n    }\r\n  };\r\n\r\n  changeKeys = (style) => {\r\n    if (style) {\r\n      const st = {};\r\n      forEach(style, (key, value) => {\r\n        st[key === 'CODE' ? 'monospace' : key.toLowerCase()] = value;\r\n      });\r\n      return st;\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  doExpand: Function = (): void => {\r\n    this.setState({\r\n      expanded: true,\r\n    });\r\n  };\r\n\r\n  doCollapse: Function = (): void => {\r\n    this.setState({\r\n      expanded: false,\r\n    });\r\n  };\r\n\r\n  render(): Object {\r\n    const { config } = this.props;\r\n    const { expanded, currentStyles } = this.state;\r\n    const InlineComponent = config.component || LayoutComponent;\r\n    return (\r\n      <InlineComponent\r\n        config={config}\r\n        currentState={currentStyles}\r\n        expanded={expanded}\r\n        onExpandEvent={this.onExpandEvent}\r\n        doExpand={this.doExpand}\r\n        doCollapse={this.doCollapse}\r\n        onChange={this.toggleInlineStyle}\r\n      />\r\n    );\r\n  }\r\n}\r\n// make subscript less low\r\n","/* @flow */\r\n\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\n\r\nimport Option from '../../../components/Option';\r\nimport Dropdown from '../../../components/Dropdown';\r\nimport DropdownOption from '../../../components/DropdownOption';\r\nimport './styles.css';\r\n\r\nclass LayoutComponent extends Component {\r\n  static propTypes = {\r\n    expanded: PropTypes.bool,\r\n    onExpandEvent: PropTypes.func,\r\n    doExpand: PropTypes.func,\r\n    doCollapse: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n    config: PropTypes.object,\r\n    currentState: PropTypes.object,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      blockTypes: this.getBlockTypes(),\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(properties: Object): void {\r\n      this.setState({\r\n        blockTypes: this.getBlockTypes(),\r\n      });\r\n  }\r\n\r\n  getBlockTypes = () => [\r\n    { label: 'Normal', displayName: 'Normal' },\r\n    { label: 'H1', displayName: 'H1' },\r\n    { label: 'H2', displayName: 'H2' },\r\n    { label: 'H3', displayName: 'H3' },\r\n    { label: 'H4', displayName: 'H4' },\r\n    { label: 'H5', displayName: 'H5' },\r\n    { label: 'H6', displayName: 'H6' },\r\n    { label: 'Blockquote', displayName: 'Blockquote' },\r\n    { label: 'Code', displayName: 'Code' },\r\n  ];\r\n\r\n  renderFlat(blocks: Array<Object>): void {\r\n    const { config: { className }, onChange, currentState: { blockType } } = this.props;\r\n    return (\r\n      <div className={classNames('rdw-inline-wrapper', className)}>\r\n        {\r\n          blocks.map((block, index) =>\r\n            (<Option\r\n              key={index}\r\n              value={block.label}\r\n              active={blockType === block.label}\r\n              onClick={onChange}\r\n            >\r\n              {block.displayName}\r\n            </Option>),\r\n          )\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderInDropdown(blocks: Array<Object>): void {\r\n    const {\r\n      config: { className, dropdownClassName, title },\r\n      currentState: { blockType },\r\n      expanded,\r\n      doExpand,\r\n      onExpandEvent,\r\n      doCollapse,\r\n      onChange,\r\n    } = this.props;\r\n    const { blockTypes } = this.state;\r\n    const currentBlockData = blockTypes.filter(blk => blk.label === blockType);\r\n    const currentLabel = currentBlockData && currentBlockData[0] && currentBlockData[0].displayName;\r\n    return (\r\n      <div className=\"rdw-block-wrapper\" aria-label=\"rdw-block-control\">\r\n        <Dropdown\r\n          className={classNames('rdw-block-dropdown', className)}\r\n          optionWrapperClassName={classNames(dropdownClassName)}\r\n          onChange={onChange}\r\n          expanded={expanded}\r\n          doExpand={doExpand}\r\n          doCollapse={doCollapse}\r\n          onExpandEvent={onExpandEvent}\r\n          title={title}\r\n        >\r\n          <span>{currentLabel}</span>\r\n          {\r\n            blocks.map((block, index) =>\r\n              (<DropdownOption\r\n                active={blockType === block.label}\r\n                value={block.label}\r\n                key={index}\r\n              >\r\n                {block.displayName}\r\n              </DropdownOption>))\r\n          }\r\n        </Dropdown>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render(): void {\r\n    const { config } = this.props;\r\n    const { inDropdown } = config;\r\n    const { blockTypes } = this.state;\r\n    const blocks = blockTypes.filter(({ label }) => config.options.includes(label));\r\n    return inDropdown ? this.renderInDropdown(blocks) : this.renderFlat(blocks);\r\n  }\r\n}\r\n\r\nexport default LayoutComponent;\r\n","/* @flow */\r\n\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { getSelectedBlocksType } from 'draftjs-utils';\r\nimport { RichUtils } from 'draft-js';\r\n\r\nimport LayoutComponent from './Component';\r\n\r\nclass BlockType extends Component {\r\n  static propTypes = {\r\n    onChange: PropTypes.func.isRequired,\r\n    editorState: PropTypes.object,\r\n    modalHandler: PropTypes.object,\r\n    config: PropTypes.object,\r\n  };\r\n\r\n  state: Object = {\r\n    expanded: false,\r\n    currentBlockType: 'unstyled',\r\n  };\r\n\r\n  componentWillMount(): void {\r\n    const { editorState, modalHandler } = this.props;\r\n    if (editorState) {\r\n      this.setState({\r\n        currentBlockType: getSelectedBlocksType(editorState),\r\n      });\r\n    }\r\n    modalHandler.registerCallBack(this.expandCollapse);\r\n  }\r\n\r\n  componentWillReceiveProps(properties: Object): void {\r\n    if (properties.editorState &&\r\n      this.props.editorState !== properties.editorState) {\r\n      this.setState({\r\n        currentBlockType: getSelectedBlocksType(properties.editorState),\r\n      });\r\n    }\r\n  }\r\n\r\n  componentWillUnmount(): void {\r\n    const { modalHandler } = this.props;\r\n    modalHandler.deregisterCallBack(this.expandCollapse);\r\n  }\r\n\r\n  onExpandEvent: Function = (): void => {\r\n    this.signalExpanded = !this.state.expanded;\r\n  };\r\n\r\n  expandCollapse: Function = (): void => {\r\n    this.setState({\r\n      expanded: this.signalExpanded,\r\n    });\r\n    this.signalExpanded = false;\r\n  }\r\n\r\n  blocksTypes: Array<Object> = [\r\n    { label: 'Normal', style: 'unstyled' },\r\n    { label: 'H1', style: 'header-one' },\r\n    { label: 'H2', style: 'header-two' },\r\n    { label: 'H3', style: 'header-three' },\r\n    { label: 'H4', style: 'header-four' },\r\n    { label: 'H5', style: 'header-five' },\r\n    { label: 'H6', style: 'header-six' },\r\n    { label: 'Blockquote', style: 'blockquote' },\r\n    { label: 'Code', style: 'code' },\r\n  ];\r\n\r\n  doExpand: Function = (): void => {\r\n    this.setState({\r\n      expanded: true,\r\n    });\r\n  };\r\n\r\n  doCollapse: Function = (): void => {\r\n    this.setState({\r\n      expanded: false,\r\n    });\r\n  };\r\n\r\n  toggleBlockType: Function = (blockType: string) => {\r\n    const blockTypeValue = this.blocksTypes.find(bt => bt.label === blockType).style;\r\n    const { editorState, onChange } = this.props;\r\n    const newState = RichUtils.toggleBlockType(\r\n      editorState,\r\n      blockTypeValue,\r\n    );\r\n    if (newState) {\r\n      onChange(newState);\r\n    }\r\n  };\r\n\r\n  render(): Object {\r\n    const { config } = this.props;\r\n    const { expanded, currentBlockType } = this.state;\r\n    const BlockTypeComponent = config.component || LayoutComponent;\r\n    const blockType = this.blocksTypes.find(bt => bt.style === currentBlockType);\r\n    return (\r\n      <BlockTypeComponent\r\n        config={config}\r\n        currentState={{ blockType: blockType && blockType.label }}\r\n        onChange={this.toggleBlockType}\r\n        expanded={expanded}\r\n        onExpandEvent={this.onExpandEvent}\r\n        doExpand={this.doExpand}\r\n        doCollapse={this.doCollapse}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default BlockType;\r\n","/* @flow */\r\n\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\n\r\nimport Dropdown from '../../../components/Dropdown';\r\nimport DropdownOption from '../../../components/DropdownOption';\r\nimport './styles.css';\r\n\r\nexport default class LayoutComponent extends Component {\r\n  static propTypes = {\r\n    expanded: PropTypes.bool,\r\n    onExpandEvent: PropTypes.func,\r\n    doExpand: PropTypes.func,\r\n    doCollapse: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n    config: PropTypes.object,\r\n    currentState: PropTypes.object,\r\n  };\r\n\r\n  state: Object = {\r\n    defaultFontSize: undefined,\r\n  };\r\n\r\n  componentDidMount(): void {\r\n    const editorElm = document.getElementsByClassName('DraftEditor-root');\r\n    if (editorElm && editorElm.length > 0) {\r\n      const editorStyles = window.getComputedStyle(editorElm[0]);\r\n      let defaultFontSize = editorStyles.getPropertyValue('font-size');\r\n      defaultFontSize = defaultFontSize.substring(0, defaultFontSize.length - 2);\r\n      this.setState({ // eslint-disable-line react/no-did-mount-set-state\r\n        defaultFontSize,\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      config: { icon, className, dropdownClassName, options, title },\r\n      onChange,\r\n      expanded,\r\n      doCollapse,\r\n      onExpandEvent,\r\n      doExpand,\r\n    } = this.props;\r\n    let { currentState: { fontSize: currentFontSize } } = this.props;\r\n    let { defaultFontSize } = this.state;\r\n    defaultFontSize = Number(defaultFontSize);\r\n    currentFontSize = currentFontSize ||\r\n      (options && options.indexOf(defaultFontSize) >= 0 && defaultFontSize);\r\n    return (\r\n      <div className=\"rdw-fontsize-wrapper\" aria-label=\"rdw-font-size-control\">\r\n        <Dropdown\r\n          className={classNames('rdw-fontsize-dropdown', className)}\r\n          optionWrapperClassName={classNames(dropdownClassName)}\r\n          onChange={onChange}\r\n          expanded={expanded}\r\n          doExpand={doExpand}\r\n          doCollapse={doCollapse}\r\n          onExpandEvent={onExpandEvent}\r\n          title={title}\r\n        >\r\n          {currentFontSize ?\r\n            <span>{currentFontSize}</span> :\r\n            <img src={icon} alt=\"\" />\r\n          }\r\n          {\r\n            options.map((size, index) =>\r\n              (<DropdownOption\r\n                className=\"rdw-fontsize-option\"\r\n                active={currentFontSize === size}\r\n                value={size}\r\n                key={index}\r\n              >\r\n                {size}\r\n              </DropdownOption>),\r\n            )\r\n          }\r\n        </Dropdown>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","/* @flow */\r\n\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  toggleCustomInlineStyle,\r\n  getSelectionCustomInlineStyle,\r\n} from 'draftjs-utils';\r\n\r\nimport LayoutComponent from './Component';\r\n\r\nexport default class FontSize extends Component {\r\n  static propTypes = {\r\n    onChange: PropTypes.func.isRequired,\r\n    editorState: PropTypes.object,\r\n    modalHandler: PropTypes.object,\r\n    config: PropTypes.object,\r\n  };\r\n\r\n  state: Object = {\r\n    expanded: undefined,\r\n    currentFontSize: undefined,\r\n  };\r\n\r\n  componentWillMount(): void {\r\n    const { editorState, modalHandler } = this.props;\r\n    if (editorState) {\r\n      this.setState({\r\n        currentFontSize:\r\n          getSelectionCustomInlineStyle(editorState, ['FONTSIZE']).FONTSIZE,\r\n      });\r\n    }\r\n    modalHandler.registerCallBack(this.expandCollapse);\r\n  }\r\n\r\n  componentWillReceiveProps(properties: Object): void {\r\n    if (properties.editorState &&\r\n      this.props.editorState !== properties.editorState) {\r\n      this.setState({\r\n        currentFontSize:\r\n          getSelectionCustomInlineStyle(properties.editorState, ['FONTSIZE']).FONTSIZE,\r\n      });\r\n    }\r\n  }\r\n\r\n  componentWillUnmount(): void {\r\n    const { modalHandler } = this.props;\r\n    modalHandler.deregisterCallBack(this.expandCollapse);\r\n  }\r\n\r\n  onExpandEvent: Function = (): void => {\r\n    this.signalExpanded = !this.state.expanded;\r\n  };\r\n\r\n  expandCollapse: Function = (): void => {\r\n    this.setState({\r\n      expanded: this.signalExpanded,\r\n    });\r\n    this.signalExpanded = false;\r\n  }\r\n\r\n  doExpand: Function = (): void => {\r\n    this.setState({\r\n      expanded: true,\r\n    });\r\n  };\r\n\r\n  doCollapse: Function = (): void => {\r\n    this.setState({\r\n      expanded: false,\r\n    });\r\n  };\r\n\r\n  toggleFontSize: Function = (fontSize: number) => {\r\n    const { editorState, onChange } = this.props;\r\n    const newState = toggleCustomInlineStyle(\r\n      editorState,\r\n      'fontSize',\r\n      fontSize,\r\n    );\r\n    if (newState) {\r\n      onChange(newState);\r\n    }\r\n  };\r\n\r\n  render(): Object {\r\n    const { config } = this.props;\r\n    const { expanded, currentFontSize } = this.state;\r\n    const FontSizeComponent = config.component || LayoutComponent;\r\n    const fontSize = currentFontSize && Number(currentFontSize.substring(9));\r\n    return (\r\n      <FontSizeComponent\r\n        config={config}\r\n        currentState={{ fontSize }}\r\n        onChange={this.toggleFontSize}\r\n        expanded={expanded}\r\n        onExpandEvent={this.onExpandEvent}\r\n        doExpand={this.doExpand}\r\n        doCollapse={this.doCollapse}\r\n      />\r\n    );\r\n  }\r\n}\r\n","/* @flow */\r\n\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\n\r\nimport Option from '../../../components/Option';\r\nimport Dropdown from '../../../components/Dropdown';\r\nimport DropdownOption from '../../../components/DropdownOption';\r\nimport { getFirstIcon } from '../../../utils/toolbar';\r\nimport './styles.css';\r\n\r\nexport default class TextAlign extends Component {\r\n  static propTypes = {\r\n    expanded: PropTypes.bool,\r\n    doExpand: PropTypes.func,\r\n    doCollapse: PropTypes.func,\r\n    onExpandEvent: PropTypes.func,\r\n    config: PropTypes.object,\r\n    onChange: PropTypes.func,\r\n    currentState: PropTypes.object,\r\n  };\r\n\r\n  renderInFlatList(): Object {\r\n    const {\r\n      config: { options, left, center, right, justify, className },\r\n      onChange,\r\n      currentState: { textAlignment },\r\n    } = this.props;\r\n    return (\r\n      <div className={classNames('rdw-text-align-wrapper', className)} aria-label=\"rdw-textalign-control\">\r\n        {options.indexOf('left') >= 0 && <Option\r\n          value=\"left\"\r\n          className={classNames(left.className)}\r\n          active={textAlignment === 'left'}\r\n          onClick={onChange}\r\n          title={left.title}\r\n        >\r\n          <img\r\n            src={left.icon}\r\n            alt=\"\"\r\n          />\r\n        </Option>}\r\n        {options.indexOf('center') >= 0 && <Option\r\n          value=\"center\"\r\n          className={classNames(center.className)}\r\n          active={textAlignment === 'center'}\r\n          onClick={onChange}\r\n          title={center.title}\r\n        >\r\n          <img\r\n            src={center.icon}\r\n            alt=\"\"\r\n          />\r\n        </Option>}\r\n        {options.indexOf('right') >= 0 && <Option\r\n          value=\"right\"\r\n          className={classNames(right.className)}\r\n          active={textAlignment === 'right'}\r\n          onClick={onChange}\r\n          title={right.title}\r\n        >\r\n          <img\r\n            src={right.icon}\r\n            alt=\"\"\r\n          />\r\n        </Option>}\r\n        {options.indexOf('justify') >= 0 && <Option\r\n          value=\"justify\"\r\n          className={classNames(justify.className)}\r\n          active={textAlignment === 'justify'}\r\n          onClick={onChange}\r\n          title={justify.title}\r\n        >\r\n          <img\r\n            src={justify.icon}\r\n            alt=\"\"\r\n          />\r\n        </Option>}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderInDropDown(): Object {\r\n    const {\r\n      config,\r\n      expanded,\r\n      doExpand,\r\n      onExpandEvent,\r\n      doCollapse,\r\n      currentState: { textAlignment },\r\n      onChange,\r\n    } = this.props;\r\n    const { options, left, center, right, justify, className, dropdownClassName, title } = config;\r\n    return (\r\n      <Dropdown\r\n        className={classNames('rdw-text-align-dropdown', className)}\r\n        optionWrapperClassName={classNames(dropdownClassName)}\r\n        onChange={onChange}\r\n        expanded={expanded}\r\n        doExpand={doExpand}\r\n        doCollapse={doCollapse}\r\n        onExpandEvent={onExpandEvent}\r\n        aria-label=\"rdw-textalign-control\"\r\n        title={title}\r\n      >\r\n        <img\r\n          src={(textAlignment && config[textAlignment] && config[textAlignment].icon) || getFirstIcon(config)}\r\n          alt=\"\"\r\n        />\r\n        {options.indexOf('left') >= 0 && <DropdownOption\r\n          value=\"left\"\r\n          active={textAlignment === 'left'}\r\n          className={classNames('rdw-text-align-dropdownOption', left.className)}\r\n          title={left.title}\r\n        >\r\n          <img\r\n            src={left.icon}\r\n            alt=\"\"\r\n          />\r\n        </DropdownOption>}\r\n        {options.indexOf('center') >= 0 && <DropdownOption\r\n          value=\"center\"\r\n          active={textAlignment === 'center'}\r\n          className={classNames('rdw-text-align-dropdownOption', center.className)}\r\n          title={center.title}\r\n        >\r\n          <img\r\n            src={center.icon}\r\n            alt=\"\"\r\n          />\r\n        </DropdownOption>}\r\n        {options.indexOf('right') >= 0 && <DropdownOption\r\n          value=\"right\"\r\n          active={textAlignment === 'right'}\r\n          className={classNames('rdw-text-align-dropdownOption', right.className)}\r\n          title={right.title}\r\n        >\r\n          <img\r\n            src={right.icon}\r\n            alt=\"\"\r\n          />\r\n        </DropdownOption>}\r\n        {options.indexOf('justify') >= 0 && <DropdownOption\r\n          value=\"justify\"\r\n          active={textAlignment === 'justify'}\r\n          className={classNames('rdw-text-align-dropdownOption', justify.className)}\r\n          title={justify.title}\r\n        >\r\n          <img\r\n            src={justify.icon}\r\n            alt=\"\"\r\n          />\r\n        </DropdownOption>}\r\n      </Dropdown>\r\n    );\r\n  }\r\n\r\n  render(): Object {\r\n    const { config: { inDropdown } } = this.props;\r\n    if (inDropdown) {\r\n      return this.renderInDropDown();\r\n    }\r\n    return this.renderInFlatList();\r\n  }\r\n}\r\n","/* @flow */\r\n\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { getSelectedBlocksMetadata, setBlockData } from 'draftjs-utils';\r\n\r\nimport LayoutComponent from './Component';\r\n\r\nexport default class TextAlign extends Component {\r\n  static propTypes = {\r\n    editorState: PropTypes.object.isRequired,\r\n    onChange: PropTypes.func.isRequired,\r\n    modalHandler: PropTypes.object,\r\n    config: PropTypes.object,\r\n  };\r\n\r\n  state = {\r\n    currentTextAlignment: undefined,\r\n  }\r\n\r\n  componentWillMount(): void {\r\n    const { modalHandler } = this.props;\r\n    modalHandler.registerCallBack(this.expandCollapse);\r\n  }\r\n\r\n  componentWillReceiveProps(properties) {\r\n    if (properties.editorState !== this.props.editorState) {\r\n      this.setState({\r\n        currentTextAlignment: getSelectedBlocksMetadata(properties.editorState).get('text-align'),\r\n      });\r\n    }\r\n  }\r\n\r\n  componentWillUnmount(): void {\r\n    const { modalHandler } = this.props;\r\n    modalHandler.deregisterCallBack(this.expandCollapse);\r\n  }\r\n\r\n  onExpandEvent: Function = (): void => {\r\n    this.signalExpanded = !this.state.expanded;\r\n  };\r\n\r\n  expandCollapse: Function = (): void => {\r\n    this.setState({\r\n      expanded: this.signalExpanded,\r\n    });\r\n    this.signalExpanded = false;\r\n  }\r\n\r\n  doExpand: Function = (): void => {\r\n    this.setState({\r\n      expanded: true,\r\n    });\r\n  };\r\n\r\n  doCollapse: Function = (): void => {\r\n    this.setState({\r\n      expanded: false,\r\n    });\r\n  };\r\n\r\n  addBlockAlignmentData:Function = (value: string) => {\r\n    const { editorState, onChange } = this.props;\r\n    const { currentTextAlignment } = this.state;\r\n    if (currentTextAlignment !== value) {\r\n      onChange(setBlockData(editorState, { 'text-align': value }));\r\n    } else {\r\n      onChange(setBlockData(editorState, { 'text-align': undefined }));\r\n    }\r\n  }\r\n\r\n  render(): Object {\r\n    const { config } = this.props;\r\n    const { expanded, currentTextAlignment } = this.state;\r\n    const TextAlignmentComponent = config.component || LayoutComponent;\r\n    return (\r\n      <TextAlignmentComponent\r\n        config={config}\r\n        expanded={expanded}\r\n        onExpandEvent={this.onExpandEvent}\r\n        doExpand={this.doExpand}\r\n        doCollapse={this.doCollapse}\r\n        currentState={{ textAlignment: currentTextAlignment }}\r\n        onChange={this.addBlockAlignmentData}\r\n      />\r\n    );\r\n  }\r\n}\r\n","/* @flow */\r\n\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\n\r\nimport { getFirstIcon } from '../../../utils/toolbar';\r\nimport Option from '../../../components/Option';\r\nimport Dropdown from '../../../components/Dropdown';\r\nimport DropdownOption from '../../../components/DropdownOption';\r\nimport './styles.css';\r\n\r\nexport default class History extends Component {\r\n  static propTypes = {\r\n    expanded: PropTypes.bool,\r\n    doExpand: PropTypes.func,\r\n    doCollapse: PropTypes.func,\r\n    onExpandEvent: PropTypes.func,\r\n    config: PropTypes.object,\r\n    onChange: PropTypes.func,\r\n    currentState: PropTypes.object,\r\n  };\r\n\r\n  onChange = (obj) => {\r\n    const { onChange } = this.props;\r\n    onChange(obj);\r\n  }\r\n\r\n  renderInDropDown(): Object {\r\n    const {\r\n      config,\r\n      expanded,\r\n      doExpand,\r\n      onExpandEvent,\r\n      doCollapse,\r\n      currentState: { undoDisabled, redoDisabled },\r\n    } = this.props;\r\n    const { options, undo, redo, className, dropdownClassName, title } = config;\r\n    return (\r\n      <Dropdown\r\n        className={classNames('rdw-history-dropdown', className)}\r\n        optionWrapperClassName={classNames(dropdownClassName)}\r\n        expanded={expanded}\r\n        doExpand={doExpand}\r\n        doCollapse={doCollapse}\r\n        onExpandEvent={onExpandEvent}\r\n        aria-label=\"rdw-history-control\"\r\n        title={title}\r\n      >\r\n        <img\r\n          src={getFirstIcon(config)}\r\n          alt=\"\"\r\n        />\r\n        {options.indexOf('undo') >= 0 && <DropdownOption\r\n          value=\"undo\"\r\n          onClick={this.onChange}\r\n          disabled={undoDisabled}\r\n          className={classNames('rdw-history-dropdownoption', undo.className)}\r\n          title={undo.title}\r\n        >\r\n          <img\r\n            src={undo.icon}\r\n            alt=\"\"\r\n          />\r\n        </DropdownOption>}\r\n        {options.indexOf('redo') >= 0 && <DropdownOption\r\n          value=\"redo\"\r\n          onClick={this.onChange}\r\n          disabled={redoDisabled}\r\n          className={classNames('rdw-history-dropdownoption', redo.className)}\r\n          title={redo.title}\r\n        >\r\n          <img\r\n            src={redo.icon}\r\n            alt=\"\"\r\n          />\r\n        </DropdownOption>}\r\n      </Dropdown>\r\n    );\r\n  }\r\n\r\n  renderInFlatList(): Object {\r\n    const {\r\n      config: { options, undo, redo, className },\r\n      currentState: { undoDisabled, redoDisabled },\r\n    } = this.props;\r\n    return (\r\n      <div className={classNames('rdw-history-wrapper', className)} aria-label=\"rdw-history-control\">\r\n        {options.indexOf('undo') >= 0 && <Option\r\n          value=\"undo\"\r\n          onClick={this.onChange}\r\n          className={classNames(undo.className)}\r\n          disabled={undoDisabled}\r\n          title={undo.title}\r\n        >\r\n          <img\r\n            src={undo.icon}\r\n            alt=\"\"\r\n          />\r\n        </Option>}\r\n        {options.indexOf('redo') >= 0 && <Option\r\n          value=\"redo\"\r\n          onClick={this.onChange}\r\n          className={classNames(redo.className)}\r\n          disabled={redoDisabled}\r\n          title={redo.title}\r\n        >\r\n          <img\r\n            src={redo.icon}\r\n            alt=\"\"\r\n          />\r\n        </Option>}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render(): Object {\r\n    const { config } = this.props;\r\n    if (config.inDropdown) {\r\n      return this.renderInDropDown();\r\n    }\r\n    return this.renderInFlatList();\r\n  }\r\n}\r\n","/* @flow */\r\n\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { EditorState } from 'draft-js';\r\n\r\nimport LayoutComponent from './Component';\r\n\r\nexport default class History extends Component {\r\n  static propTypes = {\r\n    onChange: PropTypes.func.isRequired,\r\n    editorState: PropTypes.object,\r\n    modalHandler: PropTypes.object,\r\n    config: PropTypes.object,\r\n  };\r\n\r\n  state: Object = {\r\n    expanded: false,\r\n    undoDisabled: false,\r\n    redoDisabled: false,\r\n  };\r\n\r\n  componentWillMount(): void {\r\n    const { editorState, modalHandler } = this.props;\r\n    if (editorState) {\r\n      this.setState({\r\n        undoDisabled: editorState.getUndoStack().size === 0,\r\n        redoDisabled: editorState.getRedoStack().size === 0,\r\n      });\r\n    }\r\n    modalHandler.registerCallBack(this.expandCollapse);\r\n  }\r\n\r\n  componentWillReceiveProps(properties: Object): void {\r\n    if (properties.editorState &&\r\n      this.props.editorState !== properties.editorState) {\r\n      this.setState({\r\n        undoDisabled: properties.editorState.getUndoStack().size === 0,\r\n        redoDisabled: properties.editorState.getRedoStack().size === 0,\r\n      });\r\n    }\r\n  }\r\n\r\n  componentWillUnmount(): void {\r\n    const { modalHandler } = this.props;\r\n    modalHandler.deregisterCallBack(this.expandCollapse);\r\n  }\r\n\r\n  onExpandEvent: Function = (): void => {\r\n    this.signalExpanded = !this.state.expanded;\r\n  };\r\n\r\n  onChange: Function = (action) => {\r\n    const { editorState, onChange } = this.props;\r\n    const newState = EditorState[action](editorState);\r\n    if (newState) {\r\n      onChange(newState);\r\n    }\r\n  }\r\n\r\n  doExpand: Function = (): void => {\r\n    this.setState({\r\n      expanded: true,\r\n    });\r\n  };\r\n\r\n  doCollapse: Function = (): void => {\r\n    this.setState({\r\n      expanded: false,\r\n    });\r\n  };\r\n\r\n  expandCollapse: Function = (): void => {\r\n    this.setState({\r\n      expanded: this.signalExpanded,\r\n    });\r\n    this.signalExpanded = false;\r\n  }\r\n\r\n  render(): Object {\r\n    const { config } = this.props;\r\n    const { undoDisabled, redoDisabled, expanded } = this.state;\r\n    const HistoryComponent = config.component || LayoutComponent;\r\n    return (\r\n      <HistoryComponent\r\n        config={config}\r\n        currentState={{ undoDisabled, redoDisabled }}\r\n        expanded={expanded}\r\n        onExpandEvent={this.onExpandEvent}\r\n        doExpand={this.doExpand}\r\n        doCollapse={this.doCollapse}\r\n        onChange={this.onChange}\r\n      />\r\n    );\r\n  }\r\n}\r\n","/* @flow */\r\n\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\n\r\nimport Option from '../../../components/Option';\r\n\r\nimport './styles.css';\r\n\r\nexport default class Insertion extends Component {\r\n  static propTypes = {\r\n    expanded: PropTypes.bool,\r\n    doExpand: PropTypes.func,\r\n    doCollapse: PropTypes.func,\r\n    onExpandEvent: PropTypes.func,\r\n    config: PropTypes.object,\r\n    onClick: PropTypes.func,\r\n  };\r\n\r\n  render(): Object {\r\n    const { config, onClick } = this.props;\r\n    return (\r\n      <div className={classNames('rdw-insertion-wrapper', config.className)} aria-label=\"rdw-inline-control\">\r\n        {\r\n          config.options\r\n            .map((style, index) =>\r\n              (<Option\r\n                key={index}\r\n                value={style}\r\n                onClick={() => onClick(config[style].value)}\r\n                className={classNames(config[style].className)}\r\n                active={false}\r\n                title={config[style].title}\r\n              >\r\n                {config[style].icon ?\r\n                  (<img\r\n                    alt=\"\"\r\n                    src={config[style].icon}\r\n                  />) : config[style].value\r\n                }\r\n              </Option>),\r\n            )\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// todo: make subscript less low\r\n","/* @flow */\r\n\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { EditorState, Modifier } from 'draft-js';\r\n\r\nimport LayoutComponent from './Component';\r\n\r\nexport default class Insertion extends Component {\r\n  static propTypes = {\r\n    onChange: PropTypes.func.isRequired,\r\n    editorState: PropTypes.object.isRequired,\r\n    modalHandler: PropTypes.object,\r\n    config: PropTypes.object,\r\n  };\r\n\r\n  state: Object = {};\r\n\r\n  componentWillMount(): void {\r\n    const { modalHandler } = this.props;\r\n    modalHandler.registerCallBack(this.expandCollapse);\r\n  }\r\n\r\n  componentWillUnmount(): void {\r\n    const { modalHandler } = this.props;\r\n    modalHandler.deregisterCallBack(this.expandCollapse);\r\n  }\r\n\r\n  onExpandEvent: Function = (): void => {\r\n    this.signalExpanded = !this.state.expanded;\r\n  };\r\n\r\n  expandCollapse: Function = (): void => {\r\n    this.setState({\r\n      expanded: this.signalExpanded,\r\n    });\r\n    this.signalExpanded = false;\r\n  }\r\n\r\n  insertCharacter: Function = (character: string): void => {\r\n    const { editorState, onChange } = this.props;\r\n    const newState = EditorState.push(\r\n      editorState,\r\n      Modifier.replaceText(\r\n        editorState.getCurrentContent(),\r\n        editorState.getSelection(),\r\n        character,\r\n        editorState.getCurrentInlineStyle()\r\n      ),\r\n      'insert-characters',\r\n    );\r\n    if (newState) {\r\n      onChange(newState);\r\n    }\r\n  }\r\n\r\n  doExpand: Function = (): void => {\r\n    this.setState({\r\n      expanded: true,\r\n    });\r\n  };\r\n\r\n  doCollapse: Function = (): void => {\r\n    this.setState({\r\n      expanded: false,\r\n    });\r\n  };\r\n\r\n  render(): Object {\r\n    const { config } = this.props;\r\n    const { expanded } = this.state;\r\n    const InsertionComponent = config.component || LayoutComponent;\r\n    return (\r\n      <InsertionComponent\r\n        config={config}\r\n        expanded={expanded}\r\n        onExpandEvent={this.onExpandEvent}\r\n        doExpand={this.doExpand}\r\n        doCollapse={this.doCollapse}\r\n        onClick={this.insertCharacter}\r\n      />\r\n    );\r\n  }\r\n}\r\n// make subscript less low\r\n","/* @flow */\r\n\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\n\r\nimport Option from '../../../components/Option';\r\n\r\nimport './styles.css';\r\n\r\nexport default class Submission extends Component {\r\n  static propTypes = {\r\n    expanded: PropTypes.bool,\r\n    doExpand: PropTypes.func,\r\n    doCollapse: PropTypes.func,\r\n    onExpandEvent: PropTypes.func,\r\n    config: PropTypes.object,\r\n    onClick: PropTypes.func,\r\n  };\r\n\r\n  render(): Object {\r\n    const { config, onClick } = this.props;\r\n    return (\r\n      <div className={classNames('rdw-submission-wrapper', config.className)} aria-label=\"rdw-inline-control\">\r\n        {\r\n          config.options\r\n            .map((style, index) =>\r\n              (<Option\r\n                key={index}\r\n                value={style}\r\n                onClick={() => onClick(config[style].value)}\r\n                className={classNames(config[style].className)}\r\n                active={false}\r\n                title={config[style].title}\r\n              >\r\n                {config[style].icon ?\r\n                  (<img\r\n                    alt=\"\"\r\n                    src={config[style].icon}\r\n                  />) : config[style].value\r\n                }\r\n              </Option>),\r\n            )\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// todo: make subscript less low\r\n","import inline from './Inline';\r\nimport blockType from './BlockType';\r\nimport fontSize from './FontSize';\r\nimport textAlign from './TextAlign';\r\nimport history from './History';\r\nimport insertion from './Insertion';\r\nimport submission from './Submission'\r\n\r\nconst Controls = {\r\n  inline,\r\n  blockType,\r\n  fontSize,\r\n  textAlign,\r\n  history,\r\n  insertion,\r\n  submission,\r\n};\r\n\r\nexport default Controls;\r\n","/* @flow */\r\n\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { convertToRaw } from 'draft-js';\r\nimport draftToHtml from 'draftjs-to-html';\r\n\r\nimport LayoutComponent from './Component';\r\n\r\nexport default class Submission extends Component {\r\n  static propTypes = {\r\n    onChange: PropTypes.func.isRequired,\r\n    editorState: PropTypes.object.isRequired,\r\n    onExport: PropTypes.func,\r\n    modalHandler: PropTypes.object,\r\n    config: PropTypes.object,\r\n  };\r\n\r\n  state: Object = {};\r\n\r\n  componentWillMount(): void {\r\n    const { modalHandler } = this.props;\r\n    modalHandler.registerCallBack(this.expandCollapse);\r\n  }\r\n\r\n  componentWillUnmount(): void {\r\n    const { modalHandler } = this.props;\r\n    modalHandler.deregisterCallBack(this.expandCollapse);\r\n  }\r\n\r\n  onExpandEvent: Function = (): void => {\r\n    this.signalExpanded = !this.state.expanded;\r\n  };\r\n\r\n  expandCollapse: Function = (): void => {\r\n    this.setState({\r\n      expanded: this.signalExpanded,\r\n    });\r\n    this.signalExpanded = false;\r\n  }\r\n\r\n  convertAndSubmit: Function = (): void => {\r\n    const { editorState, onExport } = this.props;\r\n    const rawContentState = convertToRaw(editorState.getCurrentContent());\r\n\r\n    const markup = draftToHtml(\r\n      rawContentState,\r\n    );\r\n    if (onExport) {\r\n      onExport(markup);\r\n    }\r\n  }\r\n\r\n  doExpand: Function = (): void => {\r\n    this.setState({\r\n      expanded: true,\r\n    });\r\n  };\r\n\r\n  doCollapse: Function = (): void => {\r\n    this.setState({\r\n      expanded: false,\r\n    });\r\n  };\r\n\r\n  render(): Object {\r\n    const { config } = this.props;\r\n    const { expanded } = this.state;\r\n    const SubmissionComponent = config.component || LayoutComponent;\r\n    return (\r\n      <SubmissionComponent\r\n        config={config}\r\n        expanded={expanded}\r\n        onExpandEvent={this.onExpandEvent}\r\n        doExpand={this.doExpand}\r\n        doCollapse={this.doCollapse}\r\n        onClick={this.convertAndSubmit}\r\n      />\r\n    );\r\n  }\r\n}\r\n// make subscript less low\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Embed = ({ block, contentState }) => {\r\n  const entity = contentState.getEntity(block.getEntityAt(0));\r\n  const { src, height, width } = entity.getData();\r\n  return (<iframe height={height} width={width} src={src} frameBorder=\"0\" allowFullScreen title=\"Wysiwyg Embedded Content\" />);\r\n};\r\n\r\nEmbed.propTypes = {\r\n  block: PropTypes.object,\r\n  contentState: PropTypes.object,\r\n};\r\n\r\nexport default Embed;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { EditorState } from 'draft-js';\r\nimport classNames from 'classnames';\r\nimport Option from '../../components/Option';\r\nimport './styles.css';\r\n\r\nconst getImageComponent = config => class Image extends Component {\r\n  static propTypes: Object = {\r\n    block: PropTypes.object,\r\n    contentState: PropTypes.object,\r\n  };\r\n\r\n  state: Object = {\r\n    hovered: false,\r\n  };\r\n\r\n  setEntityAlignmentLeft: Function = (): void => {\r\n    this.setEntityAlignment('left');\r\n  };\r\n\r\n  setEntityAlignmentRight: Function = (): void => {\r\n    this.setEntityAlignment('right');\r\n  };\r\n\r\n  setEntityAlignmentCenter: Function = (): void => {\r\n    this.setEntityAlignment('none');\r\n  };\r\n\r\n  setEntityAlignment: Function = (alignment): void => {\r\n    const { block, contentState } = this.props;\r\n    const entityKey = block.getEntityAt(0);\r\n    contentState.mergeEntityData(\r\n      entityKey,\r\n      { alignment },\r\n    );\r\n    config.onChange(EditorState.push(config.getEditorState(), contentState, 'change-block-data'));\r\n    this.setState({\r\n      dummy: true,\r\n    });\r\n  };\r\n\r\n  toggleHovered: Function = (): void => {\r\n    const hovered = !this.state.hovered;\r\n    this.setState({\r\n      hovered,\r\n    });\r\n  };\r\n\r\n  renderAlignmentOptions(alignment): Object {\r\n    return (\r\n      <div\r\n        className={classNames(\r\n          'rdw-image-alignment-options-popup',\r\n          {\r\n            'rdw-image-alignment-options-popup-right': alignment === 'right',\r\n          },\r\n        )}\r\n      >\r\n        <Option\r\n          onClick={this.setEntityAlignmentLeft}\r\n          className=\"rdw-image-alignment-option\"\r\n        >\r\n          L\r\n        </Option>\r\n        <Option\r\n          onClick={this.setEntityAlignmentCenter}\r\n          className=\"rdw-image-alignment-option\"\r\n        >\r\n          C\r\n        </Option>\r\n        <Option\r\n          onClick={this.setEntityAlignmentRight}\r\n          className=\"rdw-image-alignment-option\"\r\n        >\r\n          R\r\n        </Option>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render(): Object {\r\n    const { block, contentState } = this.props;\r\n    const { hovered } = this.state;\r\n    const { isReadOnly, isImageAlignmentEnabled } = config;\r\n    const entity = contentState.getEntity(block.getEntityAt(0));\r\n    const { src, alignment, height, width, alt } = entity.getData();\r\n\r\n    return (\r\n      <span\r\n        onMouseEnter={this.toggleHovered}\r\n        onMouseLeave={this.toggleHovered}\r\n        className={classNames(\r\n          'rdw-image-alignment',\r\n          {\r\n            'rdw-image-left': alignment === 'left',\r\n            'rdw-image-right': alignment === 'right',\r\n            'rdw-image-center': !alignment || alignment === 'none',\r\n          },\r\n        )}\r\n      >\r\n        <span className=\"rdw-image-imagewrapper\">\r\n          <img\r\n            src={src}\r\n            alt={alt}\r\n            style={{\r\n              height,\r\n              width,\r\n            }}\r\n          />\r\n          {\r\n            !isReadOnly() && hovered && isImageAlignmentEnabled() ?\r\n              this.renderAlignmentOptions(alignment)\r\n              :\r\n              undefined\r\n          }\r\n        </span>\r\n      </span>\r\n    );\r\n  }\r\n};\r\n\r\nexport default getImageComponent;\r\n","import Embedded from './Embedded';\r\nimport getImageComponent from '../renderer/Image';\r\n\r\nconst getBlockRenderFunc = (config, customBlockRenderer) => (block) => {\r\n  if (typeof customBlockRenderer === 'function') {\r\n    const renderedComponent = customBlockRenderer(block, config, config.getEditorState);\r\n    if (renderedComponent) return renderedComponent;\r\n  }\r\n  if (block.getType() === 'atomic') {\r\n    const contentState = config.getEditorState().getCurrentContent();\r\n    const entity = contentState.getEntity(block.getEntityAt(0));\r\n    if (entity && entity.type === 'IMAGE') {\r\n      return {\r\n        component: getImageComponent(config),\r\n        editable: false,\r\n      };\r\n    } else if (entity && entity.type === 'EMBEDDED_LINK') {\r\n      return {\r\n        component: Embedded,\r\n        editable: false,\r\n      };\r\n    }\r\n  }\r\n  return undefined;\r\n};\r\n\r\nexport default getBlockRenderFunc;\r\n","import bold from '../icons/bold.svg';\r\nimport italic from '../icons/italic.svg';\r\nimport underline from '../icons/underline.svg';\r\nimport monospace from '../icons/monospace.svg';\r\nimport fontSize from '../icons/font-size.svg';\r\nimport left from '../icons/align-left.svg';\r\nimport center from '../icons/align-center.svg';\r\nimport right from '../icons/align-right.svg';\r\nimport undo from '../icons/undo.svg';\r\nimport redo from '../icons/redo.svg';\r\n\r\n/**\r\n* This is default toolbar configuration,\r\n* whatever user passes in toolbar property is deeply merged with this to over-ride defaults.\r\n*/\r\nexport default {\r\n  options: ['inline', 'blockType', 'fontSize', 'textAlign', 'history', 'insertion', 'submission'],\r\n  inline: {\r\n    inDropdown: false,\r\n    className: undefined,\r\n    component: undefined,\r\n    dropdownClassName: undefined,\r\n    options: ['bold', 'italic', 'underline', 'monospace'],\r\n    bold: { icon: bold, className: undefined, title: undefined },\r\n    italic: { icon: italic, className: undefined, title: undefined },\r\n    underline: { icon: underline, className: undefined, title: undefined },\r\n    monospace: { icon: monospace, className: undefined, title: undefined },\r\n  },\r\n  blockType: {\r\n    inDropdown: true,\r\n    options: ['Normal', 'H1', 'H2', 'H3', 'H4', 'H5', 'H6', 'Blockquote', 'Code'],\r\n    className: undefined,\r\n    component: undefined,\r\n    dropdownClassName: undefined,\r\n    title: undefined,\r\n  },\r\n  fontSize: {\r\n    icon: fontSize,\r\n    options: [8, 9, 10, 11, 12, 14, 16, 18, 24, 30, 36, 48, 60, 72, 96],\r\n    className: undefined,\r\n    component: undefined,\r\n    dropdownClassName: undefined,\r\n    title: undefined,\r\n  },\r\n  textAlign: {\r\n    inDropdown: false,\r\n    className: undefined,\r\n    component: undefined,\r\n    dropdownClassName: undefined,\r\n    options: ['left', 'center', 'right'],\r\n    left: { icon: left, className: undefined, title: undefined },\r\n    center: { icon: center, className: undefined, title: undefined },\r\n    right: { icon: right, className: undefined, title: undefined },\r\n    title: undefined,\r\n  },\r\n  history: {\r\n    inDropdown: false,\r\n    className: undefined,\r\n    component: undefined,\r\n    dropdownClassName: undefined,\r\n    options: ['undo', 'redo'],\r\n    undo: { icon: undo, className: undefined, title: undefined },\r\n    redo: { icon: redo, className: undefined, title: undefined },\r\n    title: undefined,\r\n  },\r\n  insertion: {\r\n    inDropdown: false,\r\n    className: undefined,\r\n    component: undefined,\r\n    dropdownClassName: undefined,\r\n    options: ['emdash', 'endash', 'lapostrophe', 'rapostrophe', 'lquotation', 'rquotation'],\r\n    emdash: {className: 'insertionChar', title: undefined, value: '\\u2014'},\r\n    endash: {className: 'insertionChar', title: undefined, value: '\\u2013'},\r\n    lapostrophe: {className: 'insertionChar', title: undefined, value: '\\u2018'},\r\n    rapostrophe: {className: 'insertionChar', title: undefined, value: '\\u2019'},\r\n    lquotation: {className: 'insertionChar', title: undefined, value: '\\u201C'},\r\n    rquotation: {className: 'insertionChar', title: undefined, value: '\\u201D'},\r\n    title: undefined\r\n  },\r\n  submission: {\r\n    inDropdown: false,\r\n    className: undefined,\r\n    component: undefined,\r\n    dropdownClassName: undefined,\r\n    options: ['export'],\r\n    export: {className: 'exportBtn', title: undefined, value: \"EXPORT\"},\r\n    title: undefined\r\n  }\r\n};\r\n","/* @flow */\r\n\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  Editor,\r\n  EditorState,\r\n  RichUtils,\r\n  convertToRaw,\r\n  convertFromRaw,\r\n  CompositeDecorator\r\n} from \"draft-js\";\r\nimport {\r\n  changeDepth,\r\n  handleNewLine,\r\n  blockRenderMap,\r\n  getCustomStyleMap,\r\n  extractInlineStyle,\r\n  getSelectedBlocksType\r\n} from \"draftjs-utils\";\r\nimport classNames from \"classnames\";\r\nimport ModalHandler from \"../event-handler/modals\";\r\nimport FocusHandler from \"../event-handler/focus\";\r\nimport KeyDownHandler from \"../event-handler/keyDown\";\r\nimport SuggestionHandler from \"../event-handler/suggestions\";\r\nimport blockStyleFn from \"../utils/BlockStyle\";\r\nimport { mergeRecursive } from \"../utils/toolbar\";\r\nimport { hasProperty, filter } from \"../utils/common\";\r\nimport { handlePastedText } from \"../utils/handlePaste\";\r\nimport Controls from \"../controls\";\r\nimport getBlockRenderFunc from \"../renderer\";\r\nimport defaultToolbar from \"../config/defaultToolbar\";\r\nimport \"./styles.css\";\r\nimport \"./Draft.css\";\r\n\r\nexport default class WysiwygEditor extends Component {\r\n  static propTypes = {\r\n    onChange: PropTypes.func,\r\n    onEditorStateChange: PropTypes.func,\r\n    onContentStateChange: PropTypes.func,\r\n    // initialContentState is deprecated\r\n    initialContentState: PropTypes.object,\r\n    defaultContentState: PropTypes.object,\r\n    contentState: PropTypes.object,\r\n    editorState: PropTypes.object,\r\n    defaultEditorState: PropTypes.object,\r\n    toolbarOnFocus: PropTypes.bool,\r\n    spellCheck: PropTypes.bool, // eslint-disable-line react/no-unused-prop-types\r\n    stripPastedStyles: PropTypes.bool, // eslint-disable-line react/no-unused-prop-types\r\n    toolbar: PropTypes.object,\r\n    toolbarCustomButtons: PropTypes.array,\r\n    toolbarClassName: PropTypes.string,\r\n    toolbarHidden: PropTypes.bool,\r\n    editorClassName: PropTypes.string,\r\n    wrapperClassName: PropTypes.string,\r\n    toolbarStyle: PropTypes.object,\r\n    editorStyle: PropTypes.object,\r\n    wrapperStyle: PropTypes.object,\r\n    uploadCallback: PropTypes.func,\r\n    onFocus: PropTypes.func,\r\n    onBlur: PropTypes.func,\r\n    onTab: PropTypes.func,\r\n    mention: PropTypes.object,\r\n    hashtag: PropTypes.object,\r\n    textAlignment: PropTypes.string, // eslint-disable-line react/no-unused-prop-types\r\n    readOnly: PropTypes.bool,\r\n    tabIndex: PropTypes.number, // eslint-disable-line react/no-unused-prop-types\r\n    placeholder: PropTypes.string, // eslint-disable-line react/no-unused-prop-types\r\n    ariaLabel: PropTypes.string,\r\n    ariaOwneeID: PropTypes.string, // eslint-disable-line react/no-unused-prop-types\r\n    ariaActiveDescendantID: PropTypes.string, // eslint-disable-line react/no-unused-prop-types\r\n    ariaAutoComplete: PropTypes.string, // eslint-disable-line react/no-unused-prop-types\r\n    ariaDescribedBy: PropTypes.string, // eslint-disable-line react/no-unused-prop-types\r\n    ariaExpanded: PropTypes.string, // eslint-disable-line react/no-unused-prop-types\r\n    ariaHasPopup: PropTypes.string, // eslint-disable-line react/no-unused-prop-types\r\n    customBlockRenderFunc: PropTypes.func,\r\n    wrapperId: PropTypes.number,\r\n    customDecorators: PropTypes.array,\r\n    editorRef: PropTypes.func,\r\n    onExport: PropTypes.func\r\n  };\r\n\r\n  static defaultProps = {\r\n    toolbarOnFocus: false,\r\n    toolbarHidden: false,\r\n    stripPastedStyles: false,\r\n    customDecorators: []\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const toolbar = mergeRecursive(defaultToolbar, props.toolbar);\r\n    this.state = {\r\n      editorState: undefined,\r\n      editorFocused: false,\r\n      toolbar\r\n    };\r\n    const wrapperId = props.wrapperId\r\n      ? props.wrapperId\r\n      : Math.floor(Math.random() * 10000);\r\n    this.wrapperId = `rdw-wrapper-${wrapperId}`;\r\n    this.modalHandler = new ModalHandler();\r\n    this.focusHandler = new FocusHandler();\r\n    this.blockRendererFn = getBlockRenderFunc(\r\n      {\r\n        isReadOnly: this.isReadOnly,\r\n        isImageAlignmentEnabled: this.isImageAlignmentEnabled,\r\n        getEditorState: this.getEditorState,\r\n        onChange: this.onChange\r\n      },\r\n      props.customBlockRenderFunc\r\n    );\r\n    this.editorProps = this.filterEditorProps(props);\r\n    this.customStyleMap = getCustomStyleMap();\r\n  }\r\n\r\n  componentWillMount(): void {\r\n    this.compositeDecorator = this.getCompositeDecorator();\r\n    const editorState = this.createEditorState(this.compositeDecorator);\r\n    extractInlineStyle(editorState);\r\n    this.setState({\r\n      editorState\r\n    });\r\n  }\r\n\r\n  componentDidMount(): void {\r\n    this.modalHandler.init(this.wrapperId);\r\n  }\r\n  // todo: change decorators depending on properties recceived in componentWillReceiveProps.\r\n\r\n  componentWillReceiveProps(props) {\r\n    const newState = {};\r\n    if (this.props.toolbar !== props.toolbar) {\r\n      const toolbar = mergeRecursive(defaultToolbar, props.toolbar);\r\n      newState.toolbar = toolbar;\r\n    }\r\n    if (\r\n      hasProperty(props, \"editorState\") &&\r\n      this.props.editorState !== props.editorState\r\n    ) {\r\n      if (props.editorState) {\r\n        newState.editorState = EditorState.set(props.editorState, {\r\n          decorator: this.compositeDecorator\r\n        });\r\n      } else {\r\n        newState.editorState = EditorState.createEmpty(this.compositeDecorator);\r\n      }\r\n    } else if (\r\n      hasProperty(props, \"contentState\") &&\r\n      this.props.contentState !== props.contentState\r\n    ) {\r\n      if (props.contentState) {\r\n        const newEditorState = this.changeEditorState(props.contentState);\r\n        if (newEditorState) {\r\n          newState.editorState = newEditorState;\r\n        }\r\n      } else {\r\n        newState.editorState = EditorState.createEmpty(this.compositeDecorator);\r\n      }\r\n    }\r\n    if (\r\n      props.editorState !== this.props.editorState ||\r\n      props.contentState !== this.props.contentState\r\n    ) {\r\n      extractInlineStyle(newState.editorState);\r\n    }\r\n    this.setState(newState);\r\n    this.editorProps = this.filterEditorProps(props);\r\n    this.customStyleMap = getCustomStyleMap();\r\n  }\r\n\r\n  onEditorBlur: Function = (): void => {\r\n    this.setState({\r\n      editorFocused: false\r\n    });\r\n  };\r\n\r\n  onEditorFocus: Function = (event): void => {\r\n    const { onFocus } = this.props;\r\n    this.setState({\r\n      editorFocused: true\r\n    });\r\n    const editFocused = this.focusHandler.isEditorFocused();\r\n    if (onFocus && editFocused) {\r\n      onFocus(event);\r\n    }\r\n  };\r\n\r\n  onEditorMouseDown: Function = (): void => {\r\n    this.focusHandler.onEditorMouseDown();\r\n  };\r\n\r\n  onTab: Function = (event): boolean => {\r\n    const { onTab } = this.props;\r\n    if (!onTab || !onTab(event)) {\r\n      const editorState = changeDepth(\r\n        this.state.editorState,\r\n        event.shiftKey ? -1 : 1,\r\n        4\r\n      );\r\n      if (editorState && editorState !== this.state.editorState) {\r\n        this.onChange(editorState);\r\n        event.preventDefault();\r\n      }\r\n    }\r\n  };\r\n\r\n  onUpDownArrow: Function = (event): boolean => {\r\n    if (SuggestionHandler.isOpen()) {\r\n      event.preventDefault();\r\n    }\r\n  };\r\n\r\n  onToolbarFocus: Function = (event): void => {\r\n    const { onFocus } = this.props;\r\n    if (onFocus && this.focusHandler.isToolbarFocused()) {\r\n      onFocus(event);\r\n    }\r\n  };\r\n\r\n  onWrapperBlur: Function = (event: Object) => {\r\n    const { onBlur } = this.props;\r\n    if (onBlur && this.focusHandler.isEditorBlur(event)) {\r\n      onBlur(event, this.getEditorState());\r\n    }\r\n  };\r\n\r\n  onChange: Function = (editorState: Object): void => {\r\n    const { readOnly, onEditorStateChange } = this.props;\r\n    if (\r\n      !readOnly &&\r\n      !(\r\n        getSelectedBlocksType(editorState) === \"atomic\" &&\r\n        editorState.getSelection().isCollapsed\r\n      )\r\n    ) {\r\n      if (onEditorStateChange) {\r\n        onEditorStateChange(editorState, this.props.wrapperId);\r\n      }\r\n      if (!hasProperty(this.props, \"editorState\")) {\r\n        this.setState({ editorState }, this.afterChange(editorState));\r\n      } else {\r\n        this.afterChange(editorState);\r\n      }\r\n    }\r\n  };\r\n\r\n  setWrapperReference: Function = (ref: Object): void => {\r\n    this.wrapper = ref;\r\n  };\r\n\r\n  setEditorReference: Function = (ref: Object): void => {\r\n    if (this.props.editorRef) {\r\n      this.props.editorRef(ref);\r\n    }\r\n    this.editor = ref;\r\n  };\r\n\r\n  getCompositeDecorator = (): void => {\r\n    const decorators = [...this.props.customDecorators];\r\n    return new CompositeDecorator(decorators);\r\n  };\r\n\r\n  getWrapperRef = () => this.wrapper;\r\n\r\n  getEditorState = () => this.state.editorState;\r\n\r\n  getSuggestions = () => this.props.mention && this.props.mention.suggestions;\r\n\r\n  afterChange: Function = (editorState): void => {\r\n    setTimeout(() => {\r\n      const { onChange, onContentStateChange } = this.props;\r\n      if (onChange) {\r\n        onChange(convertToRaw(editorState.getCurrentContent()));\r\n      }\r\n      if (onContentStateChange) {\r\n        onContentStateChange(convertToRaw(editorState.getCurrentContent()));\r\n      }\r\n    });\r\n  };\r\n\r\n  isReadOnly = () => this.props.readOnly;\r\n\r\n  isImageAlignmentEnabled = () => this.state.toolbar.image.alignmentEnabled;\r\n\r\n  createEditorState = compositeDecorator => {\r\n    let editorState;\r\n    if (hasProperty(this.props, \"editorState\")) {\r\n      if (this.props.editorState) {\r\n        editorState = EditorState.set(this.props.editorState, {\r\n          decorator: compositeDecorator\r\n        });\r\n      }\r\n    } else if (hasProperty(this.props, \"defaultEditorState\")) {\r\n      if (this.props.defaultEditorState) {\r\n        editorState = EditorState.set(this.props.defaultEditorState, {\r\n          decorator: compositeDecorator\r\n        });\r\n      }\r\n    } else if (hasProperty(this.props, \"contentState\")) {\r\n      if (this.props.contentState) {\r\n        const contentState = convertFromRaw(this.props.contentState);\r\n        editorState = EditorState.createWithContent(\r\n          contentState,\r\n          compositeDecorator\r\n        );\r\n        editorState = EditorState.moveSelectionToEnd(editorState);\r\n      }\r\n    } else if (\r\n      hasProperty(this.props, \"defaultContentState\") ||\r\n      hasProperty(this.props, \"initialContentState\")\r\n    ) {\r\n      let contentState =\r\n        this.props.defaultContentState || this.props.initialContentState;\r\n      if (contentState) {\r\n        contentState = convertFromRaw(contentState);\r\n        editorState = EditorState.createWithContent(\r\n          contentState,\r\n          compositeDecorator\r\n        );\r\n        editorState = EditorState.moveSelectionToEnd(editorState);\r\n      }\r\n    }\r\n    if (!editorState) {\r\n      editorState = EditorState.createEmpty(compositeDecorator);\r\n    }\r\n    return editorState;\r\n  };\r\n\r\n  filterEditorProps = props =>\r\n    filter(props, [\r\n      \"onChange\",\r\n      \"onEditorStateChange\",\r\n      \"onContentStateChange\",\r\n      \"initialContentState\",\r\n      \"defaultContentState\",\r\n      \"contentState\",\r\n      \"editorState\",\r\n      \"defaultEditorState\",\r\n      \"toolbarOnFocus\",\r\n      \"toolbar\",\r\n      \"toolbarCustomButtons\",\r\n      \"toolbarClassName\",\r\n      \"editorClassName\",\r\n      \"toolbarHidden\",\r\n      \"wrapperClassName\",\r\n      \"toolbarStyle\",\r\n      \"editorStyle\",\r\n      \"wrapperStyle\",\r\n      \"uploadCallback\",\r\n      \"onFocus\",\r\n      \"onBlur\",\r\n      \"onTab\",\r\n      \"mention\",\r\n      \"hashtag\",\r\n      \"ariaLabel\",\r\n      \"customBlockRenderFunc\",\r\n      \"customDecorators\",\r\n      \"handlePastedText\"\r\n    ]);\r\n\r\n  changeEditorState = contentState => {\r\n    const newContentState = convertFromRaw(contentState);\r\n    let { editorState } = this.state;\r\n    editorState = EditorState.push(\r\n      editorState,\r\n      newContentState,\r\n      \"insert-characters\"\r\n    );\r\n    editorState = EditorState.moveSelectionToEnd(editorState);\r\n    return editorState;\r\n  };\r\n\r\n  focusEditor: Function = (): void => {\r\n    setTimeout(() => {\r\n      this.editor.focus();\r\n    });\r\n  };\r\n\r\n  handleKeyCommand: Function = (command: Object): boolean => {\r\n    const { editorState, toolbar: { inline } } = this.state;\r\n    if (inline && inline.options.indexOf(command) >= 0) {\r\n      const newState = RichUtils.handleKeyCommand(editorState, command);\r\n      if (newState) {\r\n        this.onChange(newState);\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n\r\n  handleReturn: Function = (event: Object): boolean => {\r\n    if (SuggestionHandler.isOpen()) {\r\n      return true;\r\n    }\r\n    const editorState = handleNewLine(this.state.editorState, event);\r\n    if (editorState) {\r\n      this.onChange(editorState);\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  handlePastedText = (text, html) => {\r\n    const { editorState } = this.state;\r\n\r\n    if (this.props.handlePastedText) {\r\n      return this.props.handlePastedText(\r\n        text,\r\n        html,\r\n        editorState,\r\n        this.onChange\r\n      );\r\n    }\r\n    if (!this.props.stripPastedStyles) {\r\n      return handlePastedText(text, html, editorState, this.onChange);\r\n    }\r\n    return false;\r\n  };\r\n\r\n  preventDefault: Function = (event: Object) => {\r\n    if (event.target.tagName === \"INPUT\" || event.target.tagName === \"LABEL\") {\r\n      this.focusHandler.onInputMouseDown();\r\n    } else {\r\n      event.preventDefault();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { editorState, editorFocused, toolbar } = this.state;\r\n    const {\r\n      toolbarCustomButtons,\r\n      toolbarOnFocus,\r\n      toolbarClassName,\r\n      toolbarHidden,\r\n      editorClassName,\r\n      wrapperClassName,\r\n      toolbarStyle,\r\n      editorStyle,\r\n      wrapperStyle,\r\n      uploadCallback,\r\n      ariaLabel\r\n    } = this.props;\r\n\r\n    const controlProps = {\r\n      modalHandler: this.modalHandler,\r\n      editorState,\r\n      onChange: this.onChange,\r\n      onExport: this.props.onExport\r\n    };\r\n    const toolbarShow =\r\n      editorFocused || this.focusHandler.isInputFocused() || !toolbarOnFocus;\r\n    return (\r\n      <div\r\n        id={this.wrapperId}\r\n        className={classNames(wrapperClassName, \"rdw-editor-wrapper\")}\r\n        style={wrapperStyle}\r\n        onClick={this.modalHandler.onEditorClick}\r\n        onBlur={this.onWrapperBlur}\r\n        aria-label=\"rdw-wrapper\"\r\n      >\r\n        {!toolbarHidden && (\r\n            <div\r\n              className={classNames(\"rdw-editor-toolbar\", toolbarClassName)}\r\n              style={{\r\n                visibility: toolbarShow ? \"visible\" : \"hidden\",\r\n                ...toolbarStyle\r\n              }}\r\n              onMouseDown={this.preventDefault}\r\n              aria-label=\"rdw-toolbar\"\r\n              aria-hidden={(!editorFocused && toolbarOnFocus).toString()}\r\n              onFocus={this.onToolbarFocus}\r\n            >\r\n              {toolbar.options.map((opt, index) => {\r\n                const Control = Controls[opt];\r\n                const config = toolbar[opt];\r\n                if (opt === \"image\" && uploadCallback) {\r\n                  config.uploadCallback = uploadCallback;\r\n                }\r\n                const ControlBlock = <Control key={index} {...controlProps} config={config} />;\r\n                if (opt === 'insertion') {\r\n                  return (\r\n                    <div key={index + \"div\"} className={\"rdw-insertion-container\"}>\r\n                      {ControlBlock}\r\n                    </div>\r\n                  );\r\n                }\r\n                return ControlBlock;\r\n              })}\r\n              {toolbarCustomButtons &&\r\n                toolbarCustomButtons.map((button, index) =>\r\n                  React.cloneElement(button, { key: index, ...controlProps })\r\n                )}\r\n            </div>\r\n\r\n        )}\r\n        <div\r\n          ref={this.setWrapperReference}\r\n          className={classNames(editorClassName, \"rdw-editor-main\")}\r\n          style={editorStyle}\r\n          onClick={this.focusEditor}\r\n          onFocus={this.onEditorFocus}\r\n          onBlur={this.onEditorBlur}\r\n          onKeyDown={KeyDownHandler.onKeyDown}\r\n          onMouseDown={this.onEditorMouseDown}\r\n        >\r\n          <Editor\r\n            ref={this.setEditorReference}\r\n            onTab={this.onTab}\r\n            onUpArrow={this.onUpDownArrow}\r\n            onDownArrow={this.onUpDownArrow}\r\n            editorState={editorState}\r\n            onChange={this.onChange}\r\n            blockStyleFn={blockStyleFn}\r\n            customStyleMap={getCustomStyleMap()}\r\n            handleReturn={this.handleReturn}\r\n            handlePastedText={this.handlePastedText}\r\n            blockRendererFn={this.blockRendererFn}\r\n            handleKeyCommand={this.handleKeyCommand}\r\n            ariaLabel={ariaLabel || \"rdw-editor\"}\r\n            blockRenderMap={blockRenderMap}\r\n            {...this.editorProps}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n// todo: evaluate draftjs-utils to move some methods here\r\n// todo: move color near font-family\r\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Editor from './Editor';\nimport registerServiceWorker from './registerServiceWorker';\n\nfunction _onExport(markup: string) {\n  /* ACCESS EXPORT BUTTON HERE */\n  window.alert(markup);\n}\n\nconst roots = Array.prototype.slice.call(document.getElementsByClassName('react-editor-root'));\nroots.forEach((elem) => {\n\tReactDOM.render(\n\t\t<Editor\n\t\t\tonExport={_onExport}\n\t\t/>,\n\t\telem\n\t);\n});\n\nregisterServiceWorker();\n","module.exports = __webpack_public_path__ + \"static/media/bold.c9ae0d83.svg\";","module.exports = __webpack_public_path__ + \"static/media/italic.d9817891.svg\";","module.exports = __webpack_public_path__ + \"static/media/underline.19792c21.svg\";","module.exports = __webpack_public_path__ + \"static/media/monospace.bf73713b.svg\";","module.exports = __webpack_public_path__ + \"static/media/font-size.69979f94.svg\";","module.exports = __webpack_public_path__ + \"static/media/align-left.208e638c.svg\";","module.exports = __webpack_public_path__ + \"static/media/align-center.846314c1.svg\";","module.exports = __webpack_public_path__ + \"static/media/align-right.a7033970.svg\";","module.exports = __webpack_public_path__ + \"static/media/undo.b61f48aa.svg\";","module.exports = __webpack_public_path__ + \"static/media/redo.069995c7.svg\";"],"sourceRoot":""}